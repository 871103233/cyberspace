## 前端规范*（参考江苏税软前端规范手册**v3.0**）*

### 一. 文件规范

#### 1. 静态资源(图片图标类)

所有 image.icon 都放在 **/src/assets** 下面，可以按模块创建文件夹。

#### 2.公共样式

公共 css 样式全部放在 /src/styles 下面

#### 3.文件和业务组件命名

view 文件夹下，英文命名，首字母小写，遵循小驼峰规则，其他依实际模块需求命名，见名知意。

#### 4.公共组件命名

component 文件夹下，英文命名，首字母大写，遵循小驼峰规则，其他依实际模块需求命名，见名知意。

#### 5.各自的模块文件顶部写上注释

```javascript
<!--
页面：人员管理
路由：/system/user
作者：xxx
时间：2021-03-11
编辑记录:
2021-03-11 xxx 记录最后一次修改的详细信息
2021-03-11 xxx 记录最后一次修改的详细信息
2021-03-11 xxx 记录最后一次修改的详细信息
-->

```

### 二.命名规范

#### 1.不能使用关键字或者保留字

- 关键字: 现在 JS 语法正在使用的关键字
- 保留字: 现在 JS 还没用, 但是将来可能会用的

![](./keyword.png)

#### 2.小驼峰命名法

### 三.css 书写规范

#### 1. 连字符 CSS 选择器命名规范：

- 使用“-”下划线来命名 CSS 选择器

#### 2. 不要随意使用 Id。

- id 在 JS 是唯一的，不能多次使用，而使用 class 类选择器却可以重复使用， 另外 id 的优先级优先与 class，所以 id 应该按需使用，而不能滥用。

#### 3.尽量避免使用 !important

#### 4.flex 布局

公共的样式类有 flex 布局，左右布局使用添加 class 类实现，无需每个模块都写一遍

#### 5.自适应

- 使用 rem 作为单位，高于 1400 基准 16 像素，低于 1400 基准 14 像素;
- 尽量使用分辨率 1920\*1080，缩放 100%的屏幕开发，开发完成后，修改显示分辨率，确保其他分辨率下没有样式问题。

### 四.JS 规范

#### 1.注释！！！

为了代码的可读性，并为了方便其它同事，写代码的时候一定要写注释；

- 若是定义的全局注释或者函数等注释采用标准的文档注释。

![](./annotation1.png)

- 若是定义 data 的变量使用以下注释

![](./annotation2.png)

#### 2.清除定时器！！！

如要使用定时器一定要注意，一定要在各自模块的 beforeDestroy 生命周期中清除定时器。

#### 3.清除事件监听！！！

如使用事件监听 addEventListener 时，一定要在各自模块的 beforeDestroy 生命周期中清除事件监听。

#### 4.第三方可视化插件！！！

在使用 echarts，threeJS 等第三方可视化工具时，要考虑关闭页面后是否存在内存占用，导致页面卡顿的情况，如果有，执行相应文档中的销毁事件。

#### 5.函数命名

统一采用驼峰命名法，第一个单词小写，之后的单词首字母大写，各单词间不加任何连接符。例如“userId”。

#### 6.所有变量及方法名都应见名知义

除 i, j ,k 等约定俗成用于集合遍历的临时变量名以外，不允许使用无意义的单个字母做为变量名或方法名。

#### 7.用`===`取代`==`，避免掉入`==`造成的陷阱

- 在==时，则会有一些让人难以理解的陷阱：

  ```
  (function () {
      var undefined;
      undefined == null; // true
      1 == true; //true
      2 == true; // false
      0 == false; // true
      0 == ''; // true
      NaN == NaN;// false
      [] == false; // true
      [] == ![]; // true
  })();
  ```

#### 8.统一使用双引号

字符串用双引号括起来，里面嵌套用单引号，推荐用 es6 的模版语法

#### 9.import

引入文件，推荐使用相对路径

例如：`import { xxx } from './components/utils/tools';`

#### 10.定义变量

所有变量申明都写在当前代码块的最上面，使用 let,const，避免使用 var。

#### 1.容错

写判断条件时，写容错(如：res.data && res.data.avatar)，可以防止 js 报错。

#### 14.箭头函数

多使用 es6 的函数申明和箭头函数，减少使用 let \_this = this;

#### 15.DOM 操作

减少使用 document.getElementsByClassName()等 dom 的方法，统一使用\$refs 实现。

#### 17.异步问题

接口里面请求接口的情况，存在异步的时候，难免会出现取值时机问题，可以考虑 promise + async await 的方式把异步的逻辑写成同步的读法，方便梳理逻辑。

promiseAll();

#### 18.防抖和节流

- 防抖场景：点击按钮请求接口，快速多次点击
- 节流场景：输入框输入时联想关键字
- 在涉及短时间内多次请求接口的场景时，加上防抖和节流的限制。

#### 19.代码整洁

- 代码格式化处理
- 删除未使用的参数
- 删除 console 打印信息
- 删除多余的注释代码
- 一个 tab 代表 4 个空格

#### 20.一个 vue 文件不能超出 1000 行

#### 21. v-width,v-left,v-right 维护一个版本的指令库

#### 22. 维护一个正则库

#### 23. 所有的逻辑判断都必须带注释，否则无法维护；

#### 24. 常量的定义不要用无意义的数字，使用语意化的字符串
